/*! queue-microtask. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */
let promise

module.exports = typeof queueMicrotask === 'function'
<<<<<<< HEAD
  ? queueMicrotask.bind(globalThis)
=======
  ? queueMicrotask.bind(typeof window !== 'undefined' ? window : global)
>>>>>>> 53cc5ef9a490f4df8f83f78d1cebaed84a57ad55
  // reuse resolved promise, and allocate it lazily
  : cb => (promise || (promise = Promise.resolve()))
    .then(cb)
    .catch(err => setTimeout(() => { throw err }, 0))
